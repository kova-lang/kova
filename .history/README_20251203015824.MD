# Kova Programming Language

Kova is a lightweight, expressive, and modern programming language designed for clarity, speed, and extensibility. Inspired by simplicity-first principles, Kova introduces a clean syntax, web-native primitives, and a predictable execution model that makes it easy for developers to write safe and fast code.

---

##  Overview

Kova is engineered for:

* **Readable, minimal syntax**
* **Built‑in HTTP verbs as keywords** (`POST`, `GET`, `PUT`, `DELETE`)
* **Database-like keywords** (`save`, `into`)
* **Zero‑surprise semantics**
* **Compiler-only: Kova compiles to JavaScript (Node.js).**
* **Easy integration with JavaScript environments**

---

##  Features

### ENV Support

Kova supports environment variables via `ENV.KEY`, allowing secure access to configuration values.

### Imports

Kova supports importing modules using `import` statements for modular code.

### 1. Clean Syntax

Kova uses English‑like expressions that reduce boilerplate:

```kova
POST "/user" save userData into database
```

### 2. First-Class HTTP Verbs

HTTP requests are native operations. Example:

```kova
GET "https://api.example.com/data" into result
```

### 3. Simple Data Flow

Kova encourages explicit value flow:

```kova
let x = 20
let y = x * 2
```

### 4. Custom VM & Lexer

Kova ships with:

* Tokenizer (lexer)
* Parser (AST generator)
* Interpreter/VM

Written in **JavaScript**.

---

##  Project Structure

##  Environment Variables

Kova can read `.env` files and access variables using the `ENV.KEY` syntax.

Example:

```
CONNECT mysql USING {
    host: ENV.DB_HOST,
    user: ENV.DB_USER,
    password: ENV.DB_PASS,
    database: ENV.DB_NAME
}
```

##  Imports

Kova supports importing modules using:

```
import utils from "./utils.kova"
import { encrypt } from "security"
```

### Updated Lexer

The lexer recognizes:

* `ENV`
* `import`
* `{` and `}` for object literals
* `.` for ENV access
* identifiers for module names

Below is the lexer responsibility summary:

* tokenize `ENV.KEY`
* tokenize import statements
* tokenize database keywords and operators

A typical Kova compiler/interpreter project:

```
kova/
 ├── src/
 │    ├── lexer.js
 │    ├── parser.js
 │    ├── ast.js
 │    ├── interpreter.js
 │    └── tokens.js
 ├── examples/
 │    └── demo.kova
 ├── docs/
 │    └── language-spec.md
 └── README.md
```

---

##  Core Concepts

###  Tokens

The Kova lexer recognizes:

* identifiers
* numbers
* strings
* operators (`+`, `-`, `*`, `/`, `==`, `!=`, `=`, `<`, `>`, `<=`, `>=`)
* boolean literals: `true`, `false`
* keywords: `POST`, `GET`, `PUT`, `DELETE`, `save`, `into`, `let`, `if`, `else`, `CONNECT`, `USING`, `import`, `from`, `ENV`

###  AST (Abstract Syntax Tree)

Readable structure representing code before execution.

###  Compiler-first runtime model

Kova v1 is a compiler-first language: source `.kova` files are compiled into idiomatic JavaScript (Express.js) and executed by Node.js. There is no built-in VM or interpreter executing Kova bytecode in v1. Future releases may introduce an optional VM or interpreter.

###  Database Driver Plugin Architecture

Kova supports a driver/plugin model for databases. The compiler emits abstract calls to a driver loader which selects the correct adapter for the requested engine (for example: `postgres`, `cockroach`, `mysql`, `sqlite`, `mongodb`, `redis`).

* Syntax example:

```
CONNECT db USING "postgres"
```

* The compiler will generate code that calls a driver loader (for example `loadDriver('postgres', config)`), and driver modules implement `save`, `query`, `connect`, `disconnect` operations used by generated code.
* This plugin model keeps the compiler small and extensible: new drivers are added as separate adapter modules without changing the core compiler.

###  ENV access

Use `ENV.KEY` in Kova to reference environment variables. The compiler injects `dotenv.config()` when ENV usage is detected and emits `process.env.KEY` in generated JS.

##  Example Program

# **Final Kova Query DSL (Minimal, Extended)**

### **1. Find / Select**

```
find users where age > 18 limit 10 order_by created_at desc
```

Optional parts:

* `where` …
* `limit <number>`
* `order_by <field> asc|desc`

### **2. Insert**

```
insert payload into users
```

`payload` is a variable previously defined with `let`.

### **3. Update**

```
update users set name = "Kova" where id == 12
```

### **4. Delete**

```
delete from users where id == 99
```

---

# **Extended Syntax Rules**

### **Order of tokens**

The grammar allows:

```
find <collection> [where <cond>] [limit <num>] [order_by <field> <asc|desc>]
```

Square brackets = optional.

### **Where conditions**

Supports:

* `==`
* `!=`
* `>`
* `<`
* `>=`
* `<=`
* `&&`
* `||`

Example:

```
find users where age >= 18 && status == "active" order_by age desc
```

---

# **How this compiles (Postgres example)**

### Kova:

```
find users where age > 18 limit 5 order_by created_at desc
```

### JS Output:

```js
const result = await db.users.find({
  where: { age: { $gt: 18 } },
  limit: 5,
  orderBy: { created_at: "desc" }
});
```

---

# **How this compiles (MongoDB example)**

```js
const result = await db.users.find({
  age: { $gt: 18 }
})
.limit(5)
.sort({ created_at: -1 });
```


---

##  Building From Source

Install dependencies:

```
npm install
```

Run the interpreter:

```
node src/interpreter.js examples/demo.kova
```

---

##  Testing

```
npm test
```

---

##  Language Specification

Full spec is located in `docs/language-spec.md`.
Includes:

* grammar rules
* precedence table
* runtime behavior
* native operations

---

##  License

MIT License.

---

##  Logo

The official Kova logo uses:

* **Indigo** as the primary color
* Clean, geometric shapes

See `/branding` for assets.

---

##  Contributing

Pull requests are welcome. Open an issue for feature requests or bugs.

---

##  Contact

For questions and suggestions, reach out via repository issues.
